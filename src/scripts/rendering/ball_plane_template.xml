
<scene version="0.5.0">
    <!--
    <integrator type="path">
        <integer name="maxDepth" value="10"/>
    </integrator>
    -->
    <integrator type="photonmapper">
        <integer name="directSamples" value="16"/>
        <integer name="glossySamples" value="32"/>
    </integrator>

    <bsdf type="diffuse" id="wood">
        <texture name="reflectance" type="bitmap">
            <string name="filename" value="assets/wood.jpg"/>
        </texture>
    </bsdf>
    <bsdf type="roughconductor" id="sphere">
        <string name="material" value="Al"/>
    </bsdf>

    <include filename="$pFile"/>

    <shape type="obj">
        <string name="filename" value="assets/table.obj"/>
        <ref id="wood"/>
    </shape>

    <shape type="cube">
        <transform name="toWorld">
            <scale value="10"/>
        </transform>
        <boolean name="flipNormals" value="true"/>
        <bsdf type="twosided">
            <bsdf type="diffuse">
                <texture type="checkerboard" name="reflectance">
                    <float name="uvscale" value="10"/>
                </texture>
            </bsdf>
        </bsdf>
    </shape>

    <!--
    <emitter type="envmap">
        <string name="filename" value="assets/20060807_wells6_hd.hdr"/>
    </emitter>
    -->
    <emitter type="spot">
        <transform name="toWorld">
            <lookat origin="5 5 -5" target="0 0 0"/>
        </transform>

        <float name="cutoffAngle" value="40"/>
        <spectrum name="intensity" value="200"/>
    </emitter>

    <emitter type="spot">
        <transform name="toWorld">
            <lookat origin="-3 5 -4" target="0 0 0"/>
        </transform>

        <float name="cutoffAngle" value="40"/>
        <spectrum name="intensity" value="25"/>
    </emitter>

    <emitter type="point">
        <point name="position" x="5" y="6" z="3"/>
        <spectrum name="intensity" value="25"/>
    </emitter>

    <!--
    <emitter type="point">
        <point name="position" x="-3" y="2" z="-3"/>
        <spectrum name="intensity" value="50"/>
    </emitter>
    -->

    <sensor type="perspective">
        <transform name="toWorld">

            <lookat origin="4 1.5 4"
                    target="0 0.5 0"
                    up="0, 1, 0"/>
        </transform>
        <float name="fov" value="25.000000"/>
        <string name="fovAxis" value="x"/>

        <film type="ldrfilm">
            <integer name="width" value="960"/>
            <integer name="height" value="720"/>
            <string name="fileFormat" value="png"/>
            <string name="pixelFormat" value="rgba"/>
            <boolean name="banner" value="false"/>
        </film>

        <sampler type="halton">
            <integer name="sampleCount" value="60"/>
        </sampler>

    </sensor>
</scene>
